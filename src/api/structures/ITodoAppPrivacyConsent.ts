import { tags } from "typia";

/**
 * Privacy consent event mapped to Prisma model todo_app_privacy_consents.
 * Exposes user-facing consent timeline metadata; does not include any
 * authentication secrets.
 *
 * @autobe Generated by AutoBE - https://github.com/wrtnlabs/autobe
 */
export type ITodoAppPrivacyConsent = {
  /**
   * Primary key.
   *
   * Prisma: todo_app_privacy_consents.id.
   */
  id: string & tags.Format<"uuid">;

  /**
   * System code for the consent purpose.
   *
   * Prisma: todo_app_privacy_consents.purpose_code.
   */
  purpose_code: string;

  /**
   * Human-readable purpose name.
   *
   * Prisma: todo_app_privacy_consents.purpose_name.
   */
  purpose_name: string;

  /**
   * Whether consent was granted (true) or withdrawn/denied (false).
   *
   * Prisma: todo_app_privacy_consents.granted.
   */
  granted: boolean;

  /**
   * Timestamp when the consent action occurred.
   *
   * Prisma: todo_app_privacy_consents.granted_at.
   */
  granted_at: string & tags.Format<"date-time">;

  /**
   * Timestamp when a previously granted consent was revoked.
   *
   * Prisma: todo_app_privacy_consents.revoked_at (nullable).
   */
  revoked_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * Optional expiry timestamp governed by policy.
   *
   * Prisma: todo_app_privacy_consents.expires_at (nullable).
   */
  expires_at?: (string & tags.Format<"date-time">) | null | undefined;

  /**
   * Policy/notice version at the time of consent.
   *
   * Prisma: todo_app_privacy_consents.policy_version.
   */
  policy_version: string;

  /**
   * Where/how consent was captured (web, mobile, settings page).
   *
   * Prisma: todo_app_privacy_consents.source (nullable).
   */
  source?: string | null | undefined;

  /**
   * IP address captured at consent time.
   *
   * Prisma: todo_app_privacy_consents.ip (nullable).
   */
  ip?: string | null | undefined;

  /**
   * User agent captured at consent time.
   *
   * Prisma: todo_app_privacy_consents.user_agent (nullable).
   */
  user_agent?: string | null | undefined;

  /**
   * Record creation timestamp.
   *
   * Prisma: todo_app_privacy_consents.created_at.
   */
  created_at: string & tags.Format<"date-time">;

  /**
   * Record last update timestamp.
   *
   * Prisma: todo_app_privacy_consents.updated_at.
   */
  updated_at: string & tags.Format<"date-time">;
};
export namespace ITodoAppPrivacyConsent {
  /**
   * Sortable fields for ITodoAppPrivacyConsent listings.
   *
   * Fields map to Prisma columns on todo_app_privacy_consents:
   *
   * - Granted_at: Timestamp when consent was granted
   * - Revoked_at: Timestamp when consent was revoked (nullable)
   * - Expires_at: Optional expiry timestamp
   * - Created_at: Row creation time
   * - Updated_at: Row last update time
   */
  export type EOrderBy =
    | "granted_at"
    | "revoked_at"
    | "expires_at"
    | "created_at"
    | "updated_at";

  /**
   * Search/filter parameters for listing privacy consents belonging to the
   * authenticated user with pagination.
   */
  export type IRequest = {
    /** Page number (1-based). */
    page?: (number & tags.Type<"int32">) | null | undefined;

    /** Items per page (1â€“100). */
    limit?: (number & tags.Type<"int32">) | null | undefined;

    /** Free-text search over purpose_name. */
    search?: string | null | undefined;

    /** Filter by purpose_code. */
    purpose_code?: string | null | undefined;

    /** Filter by granted flag. */
    granted?: boolean | null | undefined;

    /** Lower bound of granted_at (inclusive). */
    granted_from?: (string & tags.Format<"date-time">) | null | undefined;

    /** Upper bound of granted_at (inclusive). */
    granted_to?: (string & tags.Format<"date-time">) | null | undefined;

    /** Lower bound of revoked_at. */
    revoked_from?: (string & tags.Format<"date-time">) | null | undefined;

    /** Upper bound of revoked_at. */
    revoked_to?: (string & tags.Format<"date-time">) | null | undefined;
  };

  /**
   * Append-only creation payload for privacy consent events.
   *
   * Security: Do not accept actor identifiers in the request; ownership is
   * derived from authentication. System-managed fields (id, created_at,
   * updated_at) are excluded by design. Optional timestamps allow backfilling
   * when permitted by policy.
   */
  export type ICreate = {
    /**
     * System code for the consent purpose (e.g., analytics,
     * marketing_email).
     *
     * Maps to todo_app_privacy_consents.purpose_code and is required to
     * classify the consent.
     */
    purpose_code: string;

    /**
     * Human-readable purpose name.
     *
     * Maps to todo_app_privacy_consents.purpose_name.
     */
    purpose_name: string;

    /**
     * Whether consent is granted (true) or denied/withdrawn (false) at
     * event time.
     *
     * Maps to todo_app_privacy_consents.granted.
     */
    granted: boolean;

    /**
     * Policy or notice version identifier effective at the time of consent.
     *
     * Maps to todo_app_privacy_consents.policy_version.
     */
    policy_version: string;

    /**
     * Timestamp when the consent event occurred. If omitted, the server
     * records current time.
     *
     * Maps to todo_app_privacy_consents.granted_at.
     */
    granted_at?: (string & tags.Format<"date-time">) | undefined;

    /**
     * Timestamp when a previously granted consent was revoked. Provide when
     * recording a withdrawal event.
     *
     * Maps to todo_app_privacy_consents.revoked_at.
     */
    revoked_at?: (string & tags.Format<"date-time">) | null | undefined;

    /**
     * Optional expiry timestamp governed by policy.
     *
     * Maps to todo_app_privacy_consents.expires_at.
     */
    expires_at?: (string & tags.Format<"date-time">) | null | undefined;

    /**
     * Where/how the consent was captured (e.g., web, mobile,
     * settings_page).
     *
     * Maps to todo_app_privacy_consents.source.
     */
    source?: string | null | undefined;
  };

  /**
   * Summary projection of privacy consent suitable for list views. Omits
   * secondary metadata (ip, user_agent) for brevity.
   */
  export type ISummary = {
    /**
     * Primary key.
     *
     * Prisma: todo_app_privacy_consents.id.
     */
    id: string & tags.Format<"uuid">;

    /**
     * Consent purpose code.
     *
     * Prisma: purpose_code.
     */
    purpose_code: string;

    /**
     * Consent purpose name.
     *
     * Prisma: purpose_name.
     */
    purpose_name: string;

    /**
     * Grant state.
     *
     * Prisma: granted.
     */
    granted: boolean;

    /**
     * Event time.
     *
     * Prisma: granted_at.
     */
    granted_at: string & tags.Format<"date-time">;

    /**
     * Revocation time if withdrawn.
     *
     * Prisma: revoked_at (nullable).
     */
    revoked_at?: (string & tags.Format<"date-time">) | null | undefined;
  };
}
